<% frontend_base = ENV.fetch("FRONTEND_URL", root_url) %>
<% frontend_base = "#{frontend_base}/" unless frontend_base.ends_with?("/") %>
<% reset_link = "#{frontend_base}reset-password?token=#{CGI.escape(@token)}&email=#{CGI.escape(@resource.email)}" %>

<div style="max-width:600px;margin:0 auto;background:#0b1220;border-radius:18px;padding:0;font-family:'Inter',Arial,sans-serif;color:#e5e7eb;box-shadow:0 25px 60px rgba(0,0,0,0.25);overflow:hidden;">
  <div style="background:linear-gradient(135deg,#2563eb,#7c3aed);padding:28px 32px;">
    <p style="margin:0;font-size:12px;letter-spacing:1px;text-transform:uppercase;color:rgba(255,255,255,0.7);">Password reset</p>
    <h1 style="margin:6px 0 0;font-size:26px;font-weight:800;color:#fff;">We got your request.</h1>
    <p style="margin:8px 0 0;font-size:14px;line-height:1.6;color:rgba(255,255,255,0.86);">
      Tap the button below to choose a new password. This link stays active for a short time to protect your account.
    </p>
  </div>

  <div style="padding:28px 32px;background:#0f172a;">
    <div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:14px;padding:18px 20px;margin-bottom:16px;">
      <p style="margin:0 0 6px;font-size:13px;letter-spacing:0.3px;color:#9ca3af;">Account</p>
      <p style="margin:0;font-size:16px;font-weight:700;color:#e5e7eb;"><%= @resource.email %></p>
    </div>

    <a href="<%= reset_link %>" style="display:block;text-align:center;text-decoration:none;background:linear-gradient(120deg,#22d3ee,#6366f1);color:#0b1220;font-weight:800;padding:14px 18px;border-radius:12px;box-shadow:0 15px 30px rgba(99,102,241,0.35);letter-spacing:0.3px;margin-bottom:16px;">
      Reset password
    </a>

    <p style="margin:0 0 12px;font-size:13px;line-height:1.7;color:#cbd5e1;">
      If you did not ask for this, you can ignore this email—your password will stay the same.
    </p>

    <div style="margin-top:18px;padding:14px;border-radius:12px;border:1px dashed rgba(255,255,255,0.12);background:rgba(255,255,255,0.02);color:#94a3b8;font-size:12px;line-height:1.7;">
      <p style="margin:0 0 8px;font-weight:700;color:#e2e8f0;">Tips for a strong password</p>
      <ul style="margin:0;padding-left:18px;list-style:disc;">
        <li style="margin-bottom:6px;">Use at least 12 characters with a mix of letters, numbers, and symbols.</li>
        <li style="margin-bottom:6px;">Avoid words tied to you—names, birthdays, or common phrases.</li>
        <li style="margin:0;">Keep this password unique to this account.</li>
      </ul>
    </div>
  </div>

  <div style="padding:16px 24px;background:#0b1220;border-top:1px solid rgba(255,255,255,0.08);color:#6b7280;font-size:12px;text-align:center;">
    <p style="margin:0 0 6px;">Need help? Reply to this email and we will assist you.</p>
    <p style="margin:0;">Stay secure. Keep building.</p>
  </div>
</div>
